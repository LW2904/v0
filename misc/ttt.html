<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<style>
    div.container {
      max-width: 339px;
    }


    div.box {
      float: left;
      width: 111px;
      height: 111px;
      text-align: center;
      font-size: 80px;
      border: 1px solid black;
    }
	</style>

	<link rel="icon" href="https://i.imgur.com/4lNk3Uz.png">

	<title>ttt</title>
</head>

<body>

  <div class="container">
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>

    <p id="status"></p>
  </div>

<script>

let curPlayer = 0;
const board = [];
for (let i = 0; i < 3; i++)
  board[i] = [];

const gameWon = () => {
  let won = false;

  console.log(board);

  for (let i = 0; i < 3; i++) {
    if (board[i][0] !== undefined && board[i][0] === board[i][1]
      && board[i][1] === board[i][2]
    ) {
      return true;
    }

    if (board[0][i] !== undefined && board[0][i] === board[1][i]
      && board[1][i] === board[2][i]
    ) {
      return true;
    }
  }

  return won;
};

const statusPara = document.getElementById('status');
const printStatus = (winner) => {
  statusPara.innerHTML = `Current player: ${curPlayer}`
    + `${winner ? `, Winner: ${winner}`: ''}`
};

const boxes = document.getElementsByClassName('box');
for (let i = 0; i < boxes.length; i++) {
  const box = boxes[i];
  const index = [ i % 3, Math.floor(i / 3) ];

  box.onclick = () => {
    const symbol = curPlayer ? 'x' : 'o';

    curPlayer = curPlayer ? 0 : 1;

    if (board[index[0]][index[1]] !== undefined)
      return;
    else board[index[0]][index[1]] = symbol;

    if (gameWon(board)) {
      printStatus(curPlayer);
    } else printStatus(null);

    box.innerHTML = symbol;
  };
}

</script>

</body>

</html>